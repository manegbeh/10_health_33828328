<!DOCTYPE html>
<html>
<head>
  <title>Meal List â€“ <%= shopData.shopName %></title>
  <link rel="stylesheet" href="/main.css">
</head>
<body>
      <nav class="navbar">
        <div class="nav-left">
            <a href="/" class="nav-logo"><%= shopData.shopName %></a>
        </div>

        <ul class="nav-center">
            <li><a href="../about">About</a></li>
            <li><a href="./add">Add Meals</a></li>
            
            <li><a href="./list">All Meals</a></li>
            <li><a href="./search">Search Meals</a></li>
        </ul> 

        <div class="nav-right">
            <a href="../auth/login" class="login-btn">Login</a>
            <a href="/logout" class="login-btn">Logout</a>
        </div>
    </nav>
<div class="index-container">
  <div class="section">
    <h1 style="margin-top:0">Meal List <span class="badge">(<%= meals.length %>)</span></h1>

    <table class="table">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Calories</th>
        <th>Protein</th>
        <th>Actions</th>
      </tr>

      <% meals.forEach(m => { %>
        <tr>
          <td><%= m.id %></td>
          <td><%= m.name %></td>
          <td><%= m.calories %></td>
          <td><%= m.protein %></td>
          <td class="actions">
            <a href="./edit/<%= m.id %>" class="btn">Edit</a>
            <a href="./delete/<%= m.id %>" class="btn btn-danger" onclick="return confirm('Delete this Meal?')">Delete</a>
          </td>
        </tr>
      <% }) %>
    </table>

    <div style="margin-top:14px">
      <a href="./add" class="btn">+ Add Meal</a>
      <a href="./search" class="btn">Search</a>
    </div>
  </div>
</div>
</body>
</html>
